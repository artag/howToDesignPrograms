# Данные фиксированного размера

## 1. Арифметика

### 1.1. Арифметика чисел

Операции:

* `+`, `-`, `*`, `/`
* `=`, `>`, `<=`, `>=`, ...
* `quotient` - частное
* `remainder` - остаток от деления
* `quotient/remainder`
* `modulo`
* `add1` - инкремент
* `sub1` -декремент
* `abs`  модуль
* `max`
* `min`
* `gcd` - наибольший делитель
* `lcm` - общий множитель
* `round` - округление closest
* `floor` - округление no more
* `ceiling` - округление smallest
* `truncate` - округление farthest from 0
* `numerator`
* `denominator`
* `rationalize`
* `sqrt`, `integer-sqrt`, `integer-sqrt/remainder` - квадратный корень
* `expt` - возведение числа в степень
* `exp` - экспонента в степени
* `log` - логарифм `(log 8 2) = 3.0`
* `sin`, `cos`, `tan`, `asin`, `acos`, `atan`, ...
* комплексные числа
* `bitwise-ior` - bitwise “inclusive or”
* `bitwise-and` - bitwise “and”
* `bitwise-xor`
* `bitwise-not`
* `bitwise-bit-set?`
* `bitwise-bit-field`
* `arithmetic-shift`
* `integer-length`
* `random`, `random-seed`, ...
* `number->string`, `string->number`, `real->decimal-string`, ... конверсии
* `pi`
* `degrees->radians`, `radians->degrees`
* `sqr` - возведение в квадрат
* `sgn` - знак

**Упражнение 1**. Формула расстояния
[ex001.rkt](/src/ch01/ex001.rkt)

### 1.2. Арифметика строк

Операции:

* `string-append`

**Упражнение 2**. Сложение строк
[ex002.rkt](/src/ch01/ex002.rkt)

### 1.3. А теперь все смешаем

Операции:

* `string-length` принимает строку и возвращает число;
* `string-ith` принимает строку `s` и число `i` и возвращает `1String`
(символ), находящийся в `i-й` позиции в строке `s` (счет начинается с 0);
* `number->string` принимает число и возвращает строку
* `substring` - возвращает подстроку. Функция `(substring str start [end])`

**Упражнение 3**. Вставка символа по индексу в слово
[ex003.rkt](/src/ch01/ex003.rkt)

**Упражнение 4**. Удаление символа по индексу из слова
[ex004.rkt](/src/ch01/ex004.rkt)

### 1.4. Арифметика изображений

**Изображение** - это прямоугольный фрагмент визуальных данных, например фотография или геометрическая фигура и ее рамка.

#### Операции, которые создают элементарные изображения

Библиотека для работы с изображениями `2htdp/image`.

* `circle` создает изображение круга из радиуса, строку, определя-
ющую необходимость заливки, и строку с названием цвета;

* `ellipse` создает эллипс и принимает два диаметра, строку,
определяющую необходимость заливки, и строку с названием цвета;

* `line` создает отрезок по двум точкам и строке с названием цвета;

* `rectangle` создает прямоугольник и принимает ширину, высоту,
строку режима и строку с названием цвета;

* `text` создает текстовое изображение и принимает строку с текстом,
размер шрифта и строку с названием цвета;

* `triangle` создает равносторонний треугольник, направленный
вверх, и принимает размер, строку режима и строку с названием цвета.

Строки режима:

* "solid" - сплошная заливка цветом
* "outline" - только контур

Цвета:

* `red`
* `orange`
* `yellow`
* `green`
* `blue`
* `purple`
* `black`
* `brown`
* `gray`
* `white`
* `cyan`
* `magenta`

Модификаторы (оттенки) цветов:

* `dark`. Пример `(dark "red")`
* `light`. Пример `(light "red")`

Примеры:

```rkt
(circle 10 "solid" "green")
(rectangle 10 20 "solid" "blue")
(star 12 "solid" "gray")            ; (star side-length mode color)
```

#### Операции, которые возвращают свойства изображений

* `image-width` определяет ширину изображения в пикселях;
* `image-height` определяет высоту изображения.

Пример

```rkt
(image-width (circle 10 "solid" "red"))
(image-height (rectangle 10 20 "solid" "blue"))
```

#### Операции, которые объединяют/накладывают изображения

* `overlay` накладывает все изображения, перечисленные в опера-
ции, друг на друга, используя центр в качестве точки привязки;

* `underlay`

* `overlay/xy` подобна операции `overlay`, но принимает два числа -
x и y – между двумя аргументами с изображениями. Она сдвигает
второе изображение на x пикселей вправо и на y пикселей вниз относительно
верхнего левого угла первого изображения;
отрицательное значение x вызывает сдвиг второго изображе-
ния влево, а отрицательное значение y – вверх;

* `overlay/align` подобна операции `overlay`, но принимает две стро-
ки, которые смещают точки привязки указанных изображений.
Всего существует девять разных позиций; поэкспериментируйте с ними!

#### Еще три операции

* `empty-scene` создает прямоугольник заданной ширины и высоты;

* `place-image` помещает изображение в сцену в указанное место.
Если изображение не помещается в сцену, оно будет соответствующим
образом обрезано;

* `scene+line` принимает сцену, четыре числа и цвет и рисует ли-
нию на указанном изображении. Поэкспериментируйте самостоятельно,
чтобы увидеть, как работает эта операция.

Пример:

```rkt
(overlay (square 4 "solid" "orange")
         (circle 6 "solid" "yellow"))

(place-image (circle 6 "solid" "yellow")
             10 10
             (empty-scene 20 20))
```

**Упражнение 5**. Воспользуйтесь библиотекой `2htdp/image` и создайте
изображение простой лодки или дерева. Предусмотрите простую
возможность изменения размеров изображения.
[ex005.rkt](/src/ch01/ex005.rkt)

Упражнение 6. Создайте выражение, подсчитывающее пиксели в изображении.
[ex006.rkt](/src/ch01/ex006.rkt)
